<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Level Testing Framework - Orbital Strike</title>
    <style>
        body { font-family: Arial, sans-serif; background: #222; color: white; padding: 20px; }
        .test-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px; }
        .test-card { background: #333; padding: 15px; border-radius: 8px; border: 1px solid #555; }
        .test-card h3 { color: #50e3c2; margin-top: 0; }
        .test-button { background: #4a90e2; color: white; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer; margin: 5px; }
        .test-button:hover { background: #357abd; }
        .fullscreen-button { background: #ff6b6b; }
        .fullscreen-button:hover { background: #e55555; }
        .description { color: #ccc; font-size: 14px; margin-bottom: 10px; }
        iframe { width: 100%; height: 400px; border: 1px solid #555; border-radius: 4px; }
    </style>
</head>
<body>
    <h1>üéÆ Orbital Strike - Level Testing Framework</h1>
    <p>This framework allows you to test each level type directly without playing through the game progression.</p>
    
    <div class="test-grid">
        <div class="test-card">
            <h3>üéØ Basic Levels (1-5)</h3>
            <div class="description">The learning progression levels that introduce game mechanics step by step.</div>
            <button class="test-button" onclick="testLevel('1')">Tutorial</button>
            <button class="test-button" onclick="testLevel('2')">Single Body</button>
            <button class="test-button" onclick="testLevel('3')">Double Body</button>
            <button class="test-button" onclick="testLevel('4')">Corridor</button>
            <button class="test-button" onclick="testLevel('5')">Asteroid Field</button>
        </div>
        
        <div class="test-card">
            <h3>üåå Advanced Levels (6+)</h3>
            <div class="description">Complex procedural levels with unique mechanics and challenges.</div>
            <button class="test-button" onclick="testLevel('spiral')">Spiral Galaxy</button>
            <button class="test-button" onclick="testLevel('binary')">Binary System</button>
            <button class="test-button" onclick="testLevel('maze')">Maze</button>
            <button class="test-button" onclick="testLevel('orbital-rings')">Orbital Rings</button>
            <button class="test-button" onclick="testLevel('cluster')">Cluster Formation</button>
        </div>
        
        <div class="test-card">
            <h3>üöÄ Space Phenomena</h3>
            <div class="description">Levels inspired by real astronomical phenomena and space mechanics.</div>
            <button class="test-button" onclick="testLevel('chain')">Chain Reaction</button>
            <button class="test-button" onclick="testLevel('gravitational')">Gravitational Lens</button>
            <button class="test-button" onclick="testLevel('pulsar')">Pulsar Field</button>
            <button class="test-button" onclick="testLevel('wormhole')">Wormhole Network</button>
            <button class="test-button" onclick="testLevel('solar-system')">Solar System</button>
        </div>
        
        <div class="test-card">
            <h3>ü™ê NEW: Interplanetary Transfer</h3>
            <div class="description">A realistic orbital mechanics level with a central sun, orbiting planets, and dynamic cannon/target positions.</div>
            <button class="test-button" onclick="testLevel('interplanetary')" style="background: #ff6b6b;">Test New Level!</button>
            <button class="test-button fullscreen-button" onclick="testLevelFullscreen('interplanetary')">üñ•Ô∏è Fullscreen</button>
        </div>
    </div>
    
    <h2>üîß Game Instance</h2>
    <p>The game will load below. Use the üîß DEV button in the top-right corner or press 'T' to access the level tester.</p>
    <iframe src="index.html" id="gameFrame"></iframe>
    
    <script>
        function testLevel(levelType) {
            const frame = document.getElementById('gameFrame');
            // Send message to the game iframe to test the level
            frame.contentWindow.postMessage({
                action: 'testLevel',
                levelType: levelType
            }, '*');
            
            // Show feedback
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = 'Loading...';
            button.disabled = true;
            
            setTimeout(() => {
                button.textContent = originalText;
                button.disabled = false;
            }, 1000);
        }
        
        function testLevelFullscreen(levelType) {
            // Open the game in a new window for fullscreen testing
            const newWindow = window.open('index.html', '_blank', 'width=1200,height=800');
            
            // Wait for the new window to load, then send the test command
            newWindow.addEventListener('load', () => {
                setTimeout(() => {
                    newWindow.postMessage({
                        action: 'testLevel',
                        levelType: levelType
                    }, '*');
                    
                    // Try to enter fullscreen
                    setTimeout(() => {
                        if (newWindow.document.documentElement.requestFullscreen) {
                            newWindow.document.documentElement.requestFullscreen();
                        }
                    }, 500);
                }, 1000);
            });
        }
        
        // Listen for messages from the iframe
        window.addEventListener('message', (event) => {
            if (event.data.action === 'levelGenerated') {
                console.log(`Level ${event.data.levelType} generated successfully`);
            }
        });
    </script>
</body>
</html>